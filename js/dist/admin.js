(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const n=flarum.core.compat["admin/app"];var a=e.n(n);const r=flarum.core.compat["common/components/Button"];var o=e.n(r);const i=flarum.core.compat["common/components/Switch"];var c=e.n(i);function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}const s=flarum.core.compat["admin/components/ExtensionPage"];var d=e.n(s);const u=flarum.core.compat["admin/components/LoadingModal"];var p=e.n(u),f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),r.prototype.content=function(t){var n=e.prototype.content.call(this,t);return n.children[0].children[0].children.push(m(".Form-group",m(".Alert",[a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.mustClearCache")," ",o().component({className:"Button",onclick:function(){a().modal.show(p()),a().request({method:"DELETE",url:a().forum.attribute("apiUrl")+"/cache"}).then((function(){return window.location.reload()}))}},a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.clearCache"))]))),n},r}(d());a().initializers.add("clarkwinkelmann-selective-mediaembed",(function(){a().extensionData.for("clarkwinkelmann-selective-mediaembed").registerPage(f).registerSetting((function(){var e,t=this.setting("clarkwinkelmann-selective-mediaembed.enabledSites");try{e=JSON.parse(t())}catch(e){}return Array.isArray(e)||(e=[]),[m(".Form-group",[o().component({className:"Button",onclick:function(){t(JSON.stringify(a().data.mediaEmbedSites.map((function(e){return e.id}))))}},a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.selectAll"))," ",o().component({className:"Button",onclick:function(){t("[]")}},a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.unselectAll"))]),(a().data.mediaEmbedSites||[]).map((function(n){return m(".Form-group",[c().component({state:-1!==e.indexOf(n.id),onchange:function(a){var r=e.indexOf(n.id);a!==(-1!==r)&&(a?e.push(n.id):e.splice(r,1),t(JSON.stringify(e)))}},[m("span.mediaembed-site-name",n.name||"N/A"),n.example?m("pre.mediaembed-site-example",Array.isArray(n.example)?n.example.join("\n"):n.example):null])])}))]}))}))})(),module.exports=t})();
//# sourceMappingURL=admin.js.map