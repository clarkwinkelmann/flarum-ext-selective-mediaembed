(()=>{var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";e.r(n);const t=flarum.core.compat["admin/app"];var a=e.n(t);const r=flarum.core.compat["common/components/Button"];var o=e.n(r);const i=flarum.core.compat["common/components/Switch"];var c=e.n(i);function l(e,n){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},l(e,n)}const s=flarum.core.compat["admin/components/ExtensionPage"];var d=e.n(s);const u=flarum.core.compat["admin/components/LoadingModal"];var p=e.n(u),f=function(e){var n,t;function r(){return e.apply(this,arguments)||this}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,l(n,t),r.prototype.content=function(n){var t=e.prototype.content.call(this,n);return t.children[0].children[0].children.push(m(".Form-group",m(".Alert",[a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.mustClearCache")," ",o().component({className:"Button",onclick:function(){a().modal.show(p()),a().request({method:"DELETE",url:a().forum.attribute("apiUrl")+"/cache"}).then((function(){return window.location.reload()}))}},a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.clearCache"))]))),t},r}(d());a().initializers.add("clarkwinkelmann-selective-mediaembed",(function(){a().extensionData.for("clarkwinkelmann-selective-mediaembed").registerPage(f).registerSetting((function(){var e,n=this.setting("clarkwinkelmann-selective-mediaembed.enabledSites");try{e=JSON.parse(n())}catch(e){}return Array.isArray(e)||(e=[]),[m(".Form-group",[o().component({className:"Button",onclick:function(){n(JSON.stringify(a().data.mediaEmbedSites.map((function(e){return e.id}))))}},a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.selectAll"))," ",o().component({className:"Button",onclick:function(){n("[]")}},a().translator.trans("clarkwinkelmann-selective-mediaembed.admin.unselectAll"))]),(a().data.mediaEmbedSites||[]).map((function(t){return m(".Form-group",[c().component({state:-1!==e.indexOf(t.id),onchange:function(a){console.log(a);var r=e.indexOf(t.id);a!==(-1!==r)&&(a?e.push(t.id):e.splice(r,1),n(JSON.stringify(e)))}},[m("span.mediaembed-site-name",t.name||"N/A"),t.example?m("pre.mediaembed-site-example",Array.isArray(t.example)?t.example.join("\n"):t.example):null])])}))]}))}))})(),module.exports=n})();
//# sourceMappingURL=admin.js.map